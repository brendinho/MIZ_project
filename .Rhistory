`first wave` = first_wave_value,
`first wave ` = first_wave_p,
`second wave` = second_wave_value,
`second wave ` = second_wave_p
) %>%
rbind(list("Parameters", "beta", "p-value","beta", "p-value","beta", "p-value", "beta", "p-value"), .) %>%
dplyr::mutate(Parameters = unlist(lapply(Parameters, var_names))) %>%
xtable(.)
, include.rownames=F)
print(canada_regress_results %>%
dplyr::mutate(
first_wave_value = round(first_wave_value, 4),
first_wave_p = round(first_wave_p, 4),
second_wave_value = round(second_wave_value, 4),
second_wave_p = round(second_wave_p, 4),
third_wave_value = round(second_wave_value, 4),
third_wave_p = round(second_wave_p, 4),
total_value = round(total_value, 4),
total_p = round(total_p, 4)
) %>%
dplyr::rename(
Parameters = vars,
`first wave` = first_wave_value,
`first wave ` = first_wave_p,
`second wave` = second_wave_value,
`second wave ` = second_wave_p
) %>%
rbind(list("Parameters", "beta", "p-value","beta", "p-value","beta", "p-value", "beta", "p-value"), .) %>%
dplyr::mutate(Parameters = unlist(lapply(Parameters, var_names))) %>%
xtable(.)
, include.rownames=F)
canada_first_wave <- summary(lm(
formula = wave_1_cumulative ~ mR_weighted_by_pop +
F0 + Fs + Fc +
# families_with_no_children + families_with_children_of_size_3_or_smaller + families_with_children_of_size_4_or_larger +
total_commuters + population_density,
data = Total_Data
))
canada_second_wave <- summary(lm(
formula = wave_2_cumulative ~ mR_weighted_by_pop +
F0 + Fs + Fc +
# families_with_no_children + families_with_children_of_size_3_or_smaller + families_with_children_of_size_4_or_larger +
total_commuters + population_density,
data = Total_Data
))
canada_third_wave <- summary(lm(
formula = wave_3_cumulative ~ mR_weighted_by_pop +
# F0 + Fs + Fc +
families_with_no_children + families_with_children_of_size_3_or_smaller + families_with_children_of_size_4_or_larger +
total_commuters + population_density,
data = Total_Data
))
canada_total <- summary(lm(
formula = cases ~ mR_weighted_by_pop +
F0 + Fs + Fc +
# families_with_no_children + families_with_children_of_size_3_or_smaller + families_with_children_of_size_4_or_larger +
# total_commuters +
population_density + wave,
data = rbind(
Total_Data %>%
dplyr::select(-wave_2_cumulative, -wave_3_cumulative, -total_cumulative) %>%
dplyr::rename(cases = wave_1_cumulative) %>%
dplyr::mutate(wave=1),
Total_Data %>%
dplyr::select(-wave_1_cumulative, -wave_3_cumulative, -total_cumulative) %>%
dplyr::rename(cases = wave_2_cumulative) %>%
dplyr::mutate(wave=2),
Total_Data %>%
dplyr::select(-wave_1_cumulative, -wave_2_cumulative, -total_cumulative) %>%
dplyr::rename(cases = wave_3_cumulative) %>%
dplyr::mutate(wave=3)
)
))
canada_regress_results <- Reduce(
function(x,y) merge(x=x, y=y, by="vars", all=TRUE),
list(
data.table(vars=rownames(canada_first_wave$coefficients), canada_first_wave$coefficients) %>%
dplyr::select(-`Std. Error`, -`t value`) %>%
dplyr::rename(first_wave_value=Estimate, first_wave_p=`Pr(>|t|)`),
data.table(vars=rownames(canada_second_wave$coefficients), canada_second_wave$coefficients) %>%
dplyr::select(-`Std. Error`, -`t value`) %>%
dplyr::rename(second_wave_value=Estimate, second_wave_p=`Pr(>|t|)`),
data.table(vars=rownames(canada_third_wave$coefficients), canada_third_wave$coefficients) %>%
dplyr::select(-`Std. Error`, -`t value`) %>%
dplyr::rename(third_wave_value=Estimate, third_wave_p=`Pr(>|t|)`),
data.table(vars=rownames(canada_total$coefficients), canada_total$coefficients) %>%
dplyr::select(-`Std. Error`, -`t value`) %>%
dplyr::rename(total_value=Estimate, total_p=`Pr(>|t|)`)
)
) %>%
dplyr::mutate(
first_wave_value = round(first_wave_value, 3),
first_wave_p = round(first_wave_p, 4),
second_wave_value = round(second_wave_value, 3),
second_wave_p = round(second_wave_p, 4),
total_value = round(total_value, 3),
total_p = round(total_p, 4),
) %>%
print(xtable(.), include.rownames=F)
fwrite(canada_regress_results, file="canada_regress_results.csv")
var_names <- function(x)
{
if(x == "aR_score") return("aR")
if(x == "families_with_children_of_size_2_or_smaller") return("F2")
if(x == "families_with_children_of_size_3_or_larger") return("F3")
if(x == "families_with_children_of_size_3_or_smaller") return("F3")
if(x == "families_with_children_of_size_4_or_larger") return("F4")
if(x == "families_with_no_children") return("F0")
if(x == "population_density") return("D")
if(x == "total_commuters") return("L")
if(x == "wave") return("x")
if(x == "(Intercept)") return("Intercept")
if(x == "mR_weighted_by_pop") return("mR_pop")
if(x == "aR_weighted_by_pop") return("aR_pop")
return(x)
}
print(canada_regress_results %>%
dplyr::mutate(
first_wave_value = round(first_wave_value, 4),
first_wave_p = round(first_wave_p, 4),
second_wave_value = round(second_wave_value, 4),
second_wave_p = round(second_wave_p, 4),
third_wave_value = round(second_wave_value, 4),
third_wave_p = round(second_wave_p, 4),
total_value = round(total_value, 4),
total_p = round(total_p, 4)
) %>%
dplyr::rename(
Parameters = vars,
`first wave` = first_wave_value,
`first wave ` = first_wave_p,
`second wave` = second_wave_value,
`second wave ` = second_wave_p
) %>%
rbind(list("Parameters", "beta", "p-value","beta", "p-value","beta", "p-value", "beta", "p-value"), .) %>%
dplyr::mutate(Parameters = unlist(lapply(Parameters, var_names))) %>%
xtable(.)
, include.rownames=F)
canada_first_wave <- summary(lm(
formula = wave_1_cumulative ~ mR_weighted_by_pop +
F0 + Fs + Fc +
# families_with_no_children + families_with_children_of_size_3_or_smaller + families_with_children_of_size_4_or_larger +
total_commuters + population_density,
data = Total_Data
))
canada_second_wave <- summary(lm(
formula = wave_2_cumulative ~ mR_weighted_by_pop +
F0 + Fs + Fc +
# families_with_no_children + families_with_children_of_size_3_or_smaller + families_with_children_of_size_4_or_larger +
total_commuters + population_density,
data = Total_Data
))
canada_third_wave <- summary(lm(
formula = wave_3_cumulative ~ mR_weighted_by_pop +
F0 + Fs + Fc +
# families_with_no_children + families_with_children_of_size_3_or_smaller + families_with_children_of_size_4_or_larger +
total_commuters + population_density,
data = Total_Data
))
canada_total <- summary(lm(
formula = cases ~ mR_weighted_by_pop +
F0 + Fs + Fc +
# families_with_no_children + families_with_children_of_size_3_or_smaller + families_with_children_of_size_4_or_larger +
# total_commuters +
population_density + wave,
data = rbind(
Total_Data %>%
dplyr::select(-wave_2_cumulative, -wave_3_cumulative, -total_cumulative) %>%
dplyr::rename(cases = wave_1_cumulative) %>%
dplyr::mutate(wave=1),
Total_Data %>%
dplyr::select(-wave_1_cumulative, -wave_3_cumulative, -total_cumulative) %>%
dplyr::rename(cases = wave_2_cumulative) %>%
dplyr::mutate(wave=2),
Total_Data %>%
dplyr::select(-wave_1_cumulative, -wave_2_cumulative, -total_cumulative) %>%
dplyr::rename(cases = wave_3_cumulative) %>%
dplyr::mutate(wave=3)
)
))
canada_regress_results <- Reduce(
function(x,y) merge(x=x, y=y, by="vars", all=TRUE),
list(
data.table(vars=rownames(canada_first_wave$coefficients), canada_first_wave$coefficients) %>%
dplyr::select(-`Std. Error`, -`t value`) %>%
dplyr::rename(first_wave_value=Estimate, first_wave_p=`Pr(>|t|)`),
data.table(vars=rownames(canada_second_wave$coefficients), canada_second_wave$coefficients) %>%
dplyr::select(-`Std. Error`, -`t value`) %>%
dplyr::rename(second_wave_value=Estimate, second_wave_p=`Pr(>|t|)`),
data.table(vars=rownames(canada_third_wave$coefficients), canada_third_wave$coefficients) %>%
dplyr::select(-`Std. Error`, -`t value`) %>%
dplyr::rename(third_wave_value=Estimate, third_wave_p=`Pr(>|t|)`),
data.table(vars=rownames(canada_total$coefficients), canada_total$coefficients) %>%
dplyr::select(-`Std. Error`, -`t value`) %>%
dplyr::rename(total_value=Estimate, total_p=`Pr(>|t|)`)
)
) %>%
dplyr::mutate(
first_wave_value = round(first_wave_value, 3),
first_wave_p = round(first_wave_p, 4),
second_wave_value = round(second_wave_value, 3),
second_wave_p = round(second_wave_p, 4),
total_value = round(total_value, 3),
total_p = round(total_p, 4),
) %>%
print(xtable(.), include.rownames=F)
fwrite(canada_regress_results, file="canada_regress_results.csv")
var_names <- function(x)
{
if(x == "aR_score") return("aR")
if(x == "families_with_children_of_size_2_or_smaller") return("F2")
if(x == "families_with_children_of_size_3_or_larger") return("F3")
if(x == "families_with_children_of_size_3_or_smaller") return("F3")
if(x == "families_with_children_of_size_4_or_larger") return("F4")
if(x == "families_with_no_children") return("F0")
if(x == "population_density") return("D")
if(x == "total_commuters") return("L")
if(x == "wave") return("x")
if(x == "(Intercept)") return("Intercept")
if(x == "mR_weighted_by_pop") return("mR_pop")
if(x == "aR_weighted_by_pop") return("aR_pop")
return(x)
}
print(canada_regress_results %>%
dplyr::mutate(
first_wave_value = round(first_wave_value, 4),
first_wave_p = round(first_wave_p, 4),
second_wave_value = round(second_wave_value, 4),
second_wave_p = round(second_wave_p, 4),
third_wave_value = round(second_wave_value, 4),
third_wave_p = round(second_wave_p, 4),
total_value = round(total_value, 4),
total_p = round(total_p, 4)
) %>%
dplyr::rename(
Parameters = vars,
`first wave` = first_wave_value,
`first wave ` = first_wave_p,
`second wave` = second_wave_value,
`second wave ` = second_wave_p
) %>%
rbind(list("Parameters", "beta", "p-value","beta", "p-value","beta", "p-value", "beta", "p-value"), .) %>%
dplyr::mutate(Parameters = unlist(lapply(Parameters, var_names))) %>%
xtable(.)
, include.rownames=F)
canada_first_wave
canada_second_wave
third_wave
canada_third_wave
canada_first_wave <- summary(lm(
formula = wave_1_cumulative ~ mR_weighted_by_pop +
F0 + Fs + Fc +
# families_with_no_children + families_with_children_of_size_3_or_smaller + families_with_children_of_size_4_or_larger +
total_commuters + population_density,
data = Total_Data
))
canada_second_wave <- summary(lm(
formula = wave_2_cumulative ~ mR_weighted_by_pop +
F0 + Fs + Fc +
# families_with_no_children + families_with_children_of_size_3_or_smaller + families_with_children_of_size_4_or_larger +
total_commuters + population_density,
data = Total_Data
))
canada_third_wave <- summary(lm(
formula = wave_3_cumulative ~ mR_weighted_by_pop +
F0 + Fs + Fc +
# families_with_no_children + families_with_children_of_size_3_or_smaller + families_with_children_of_size_4_or_larger +
total_commuters + population_density,
data = Total_Data
))
canada_total <- summary(lm(
formula = cases ~ mR_weighted_by_pop +
F0 + Fs + Fc +
# families_with_no_children + families_with_children_of_size_3_or_smaller + families_with_children_of_size_4_or_larger +
# total_commuters +
population_density + wave,
data = rbind(
Total_Data %>%
dplyr::select(-wave_2_cumulative, -wave_3_cumulative, -total_cumulative) %>%
dplyr::rename(cases = wave_1_cumulative) %>%
dplyr::mutate(wave=1),
Total_Data %>%
dplyr::select(-wave_1_cumulative, -wave_3_cumulative, -total_cumulative) %>%
dplyr::rename(cases = wave_2_cumulative) %>%
dplyr::mutate(wave=2),
Total_Data %>%
dplyr::select(-wave_1_cumulative, -wave_2_cumulative, -total_cumulative) %>%
dplyr::rename(cases = wave_3_cumulative) %>%
dplyr::mutate(wave=3)
)
))
canada_regress_results <- Reduce(
function(x,y) merge(x=x, y=y, by="vars", all=TRUE),
list(
data.table(vars=rownames(canada_first_wave$coefficients), canada_first_wave$coefficients) %>%
dplyr::select(-`Std. Error`, -`t value`) %>%
dplyr::rename(first_wave_value=Estimate, first_wave_p=`Pr(>|t|)`),
data.table(vars=rownames(canada_second_wave$coefficients), canada_second_wave$coefficients) %>%
dplyr::select(-`Std. Error`, -`t value`) %>%
dplyr::rename(second_wave_value=Estimate, second_wave_p=`Pr(>|t|)`),
data.table(vars=rownames(canada_third_wave$coefficients), canada_third_wave$coefficients) %>%
dplyr::select(-`Std. Error`, -`t value`) %>%
dplyr::rename(third_wave_value=Estimate, third_wave_p=`Pr(>|t|)`),
data.table(vars=rownames(canada_total$coefficients), canada_total$coefficients) %>%
dplyr::select(-`Std. Error`, -`t value`) %>%
dplyr::rename(total_value=Estimate, total_p=`Pr(>|t|)`)
)
) %>%
dplyr::mutate(
first_wave_value = round(first_wave_value, 3),
first_wave_p = round(first_wave_p, 4),
second_wave_value = round(second_wave_value, 3),
second_wave_p = round(second_wave_p, 4),
total_value = round(total_value, 3),
total_p = round(total_p, 4),
) %>%
print(xtable(.), include.rownames=F)
fwrite(canada_regress_results, file="canada_regress_results.csv")
var_names <- function(x)
{
if(x == "aR_score") return("aR")
if(x == "families_with_children_of_size_2_or_smaller") return("F2")
if(x == "families_with_children_of_size_3_or_larger") return("F3")
if(x == "families_with_children_of_size_3_or_smaller") return("F3")
if(x == "families_with_children_of_size_4_or_larger") return("F4")
if(x == "families_with_no_children") return("F0")
if(x == "population_density") return("D")
if(x == "total_commuters") return("L")
if(x == "wave") return("x")
if(x == "(Intercept)") return("Intercept")
if(x == "mR_weighted_by_pop") return("mR_pop")
if(x == "aR_weighted_by_pop") return("aR_pop")
return(x)
}
print(canada_regress_results %>%
dplyr::mutate(
first_wave_value = round(first_wave_value, 4),
first_wave_p = round(first_wave_p, 4),
second_wave_value = round(second_wave_value, 4),
second_wave_p = round(second_wave_p, 4),
third_wave_value = round(second_wave_value, 4),
third_wave_p = round(second_wave_p, 4),
total_value = round(total_value, 4),
total_p = round(total_p, 4)
) %>%
dplyr::rename(
Parameters = vars,
`first wave` = first_wave_value,
`first wave ` = first_wave_p,
`second wave` = second_wave_value,
`second wave ` = second_wave_p
) %>%
rbind(list("Parameters", "beta", "p-value","beta", "p-value","beta", "p-value", "beta", "p-value"), .) %>%
dplyr::mutate(Parameters = unlist(lapply(Parameters, var_names))) %>%
xtable(.)
, include.rownames=F)
canada_third_wave
canada_first_wave
print(canada_regress_results %>%
dplyr::mutate(
first_wave_value = round(first_wave_value, 4),
first_wave_p = round(first_wave_p, 4),
second_wave_value = round(second_wave_value, 4),
second_wave_p = round(second_wave_p, 4),
third_wave_value = round(third_wave_value, 4),
third_wave_p = round(third_wave_p, 4),
total_value = round(total_value, 4),
total_p = round(total_p, 4)
) %>%
dplyr::rename(
Parameters = vars,
`first wave` = first_wave_value,
`first wave ` = first_wave_p,
`second wave` = second_wave_value,
`second wave ` = second_wave_p
) %>%
rbind(list("Parameters", "beta", "p-value","beta", "p-value","beta", "p-value", "beta", "p-value"), .) %>%
dplyr::mutate(Parameters = unlist(lapply(Parameters, var_names))) %>%
xtable(.)
, include.rownames=F)
canada_third_wave
print(canada_regress_results %>%
dplyr::mutate(
first_wave_value = round(first_wave_value, 4),
first_wave_p = round(first_wave_p, 4),
second_wave_value = round(second_wave_value, 4),
second_wave_p = round(second_wave_p, 4),
third_wave_value = round(third_wave_value, 4),
third_wave_p = round(third_wave_p, 4),
total_value = round(total_value, 4),
total_p = round(total_p, 4)
) %>%
dplyr::rename(
Parameters = vars,
`first wave` = first_wave_value,
`first wave ` = first_wave_p,
`second wave` = second_wave_value,
`second wave ` = second_wave_p
) %>%
rbind(list("Parameters", "beta", "p-value","beta", "p-value","beta", "p-value", "beta", "p-value"), .) %>%
dplyr::mutate(Parameters = unlist(lapply(Parameters, var_names))) %>%
xtable(.)
, include.rownames=F)
canada_total
source("~/Documents/GitHub/MIZ_project/linear_models_and_exploration_canada.R", echo=TRUE)
print(canada_regress_results %>%
dplyr::mutate(
first_wave_value = round(first_wave_value, 4),
first_wave_p = round(first_wave_p, 4),
second_wave_value = round(second_wave_value, 4),
second_wave_p = round(second_wave_p, 4),
third_wave_value = round(third_wave_value, 4),
third_wave_p = round(third_wave_p, 4),
total_value = round(total_value, 4),
total_p = round(total_p, 4)
) %>%
dplyr::rename(
Parameters = vars,
`first wave` = first_wave_value,
`first wave ` = first_wave_p,
`second wave` = second_wave_value,
`second wave ` = second_wave_p
) %>%
rbind(list("Parameters", "beta", "p-value","beta", "p-value","beta", "p-value", "beta", "p-value"), .) %>%
dplyr::mutate(Parameters = unlist(lapply(Parameters, var_names))) %>%
xtable(.)
, include.rownames=F)
canada_first_wave
canada_second_wave
canada_third_wave
canada_total
print(canada_regress_results %>%
dplyr::mutate(
first_wave_value = round(first_wave_value, 4),
first_wave_p = round(first_wave_p, 4),
second_wave_value = round(second_wave_value, 4),
second_wave_p = round(second_wave_p, 4),
third_wave_value = round(third_wave_value, 4),
third_wave_p = round(third_wave_p, 4),
total_value = round(total_value, 4),
total_p = round(total_p, 4)
) %>%
dplyr::rename(
Parameters = vars,
`first wave` = first_wave_value,
`first wave ` = first_wave_p,
`second wave` = second_wave_value,
`second wave ` = second_wave_p
) %>%
rbind(list("Parameters", "beta", "p-value","beta", "p-value","beta", "p-value", "beta", "p-value"), .) %>%
dplyr::mutate(Parameters = unlist(lapply(Parameters, var_names))) %>%
xtable(.)
, include.rownames=F)
canada_first_wave
canada_second_wave
canada_third_wave
canada_total
source("~/Documents/GitHub/MIZ_project/linear_models_and_exploration_canada.R", echo=TRUE)
clear
canada_first_wave
canada_second_wave
canada_third_wave
print(canada_regress_results %>%
dplyr::mutate(
first_wave_value = round(first_wave_value, 4),
first_wave_p = round(first_wave_p, 4),
second_wave_value = round(second_wave_value, 4),
second_wave_p = round(second_wave_p, 4),
third_wave_value = round(third_wave_value, 4),
third_wave_p = round(third_wave_p, 4),
total_value = round(total_value, 4),
total_p = round(total_p, 4)
) %>%
dplyr::rename(
Parameters = vars,
`first wave` = first_wave_value,
`first wave ` = first_wave_p,
`second wave` = second_wave_value,
`second wave ` = second_wave_p
) %>%
rbind(list("Parameters", "beta", "p-value","beta", "p-value","beta", "p-value", "beta", "p-value"), .) %>%
dplyr::mutate(Parameters = unlist(lapply(Parameters, var_names))) %>%
xtable(.)
, include.rownames=F)
source("~/Documents/GitHub/MIZ_project/linear_models_and_exploration_canada.R", echo=TRUE)
print(canada_regress_results %>%
dplyr::mutate(
first_wave_value = round(first_wave_value, 4),
first_wave_p = round(first_wave_p, 4),
second_wave_value = round(second_wave_value, 4),
second_wave_p = round(second_wave_p, 4),
third_wave_value = round(third_wave_value, 4),
third_wave_p = round(third_wave_p, 4),
total_value = round(total_value, 4),
total_p = round(total_p, 4)
) %>%
dplyr::rename(
Parameters = vars,
`first wave` = first_wave_value,
`first wave ` = first_wave_p,
`second wave` = second_wave_value,
`second wave ` = second_wave_p
) %>%
rbind(list("Parameters", "beta", "p-value","beta", "p-value","beta", "p-value", "beta", "p-value"), .) %>%
dplyr::mutate(Parameters = unlist(lapply(Parameters, var_names))) %>%
xtable(.)
, include.rownames=F)
canada_first_wave
canada_second_wave
canada_third_wave
canada_total\
canada_total
