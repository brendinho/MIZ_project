"is_miz_weak" = "MIZ\textsubscript{weak}",
"is_miz_none" = "MIZ\textsubscript{none}",
"previous_wave_incidence" = "$Y_{u-1}$",
"interaction_popdensity_cma" = "$D\\cdot\\text{CMA}$",
"interaction_popdensity_ca" = "$D\\cdot\\text{CA}$",
"interaction_popdensity_moderate" = "$D\\cdot\\text{MIZ}_{\\text{moderate}}$",
"interaction_popdensity_strong" = "$D\\cdot\\text{MIZ}_{\\text{strong}}$",
"interaction_popdensity_weak" = "$D\\cdot\\text{MIZ}_{\\text{weak}}$",
"interaction_popdensity_none" = "$D\\cdot\\text{MIZ}_{\\text{none}}$",
"interaction_vaccination_0_to_4" = "$v_{\\text{prov}}\\cdot C_{0-4}$",
"interaction_vaccination_5_to_19" = "$v_{\\text{prov}}\\cdot C_{5-19}",
"interaction_vaccination_20_to_49" = "$v_{\\text{prov}}\\cdot C_{20-49}$",
"interaction_vaccination_50_to_64" = "$v_{\\text{prov}}\\cdot C_{50-64}$",
"interaction_vaccination_50_to_64" = "$v_{\\text{prov}}\\cdot C_{50-64}$",
"interaction_vaccination_65_plus" = "$v_{\\text{prov}}\\cdot C_{\\ge65}$"
)))
}
Regression_Data$VIF %>%
dplyr::mutate(value = sprintf("%.3f", value)) %>%
dplyr::relocate(wave, regressor, value) %>%
pretty_variable_names() %>% .[, unique(regressor)]
pretty_variable_names <- function(tab)
{
return(tab %>% dplyr::mutate(regressor = dplyr::recode(regressor,
"LTCH" = "",
"E" = "School Closures",
"E" = "EI",
"group_0_to_4" = "$C_{0-4}$",
"group_5_to_19" = "$C_{5-19}$",
"group_20_to_49" = "$C_{20-49}$",
"group_50_to_64" = "$C_{50-64}$",
"group_65_plus" = "$C_{\\ge65}$",
"PHU_pop_density" = "$D$",
"interaction_children_school_closures" = "$E\\cdot C_{5-19}$",
"is_cma" = "CMA",
"is_ca" = "CA",
"is_miz_strong" = "MIZ\textsubscript{strong}",
"is_miz_moderate" = "MIZ\textsubscript{mod}$",
"is_miz_weak" = "MIZ\textsubscript{weak}",
"is_miz_none" = "MIZ\textsubscript{none}",
"previous_wave_incidence" = "$Y_{u-1}$",
"interaction_popdensity_cma" = "$D\\cdot\\text{CMA}$",
"interaction_popdensity_ca" = "$D\\cdot\\text{CA}$",
"interaction_popdensity_moderate" = "$D\\cdot\\text{MIZ}_{\\text{moderate}}$",
"interaction_popdensity_strong" = "$D\\cdot\\text{MIZ}_{\\text{strong}}$",
"interaction_popdensity_weak" = "$D\\cdot\\text{MIZ}_{\\text{weak}}$",
"interaction_popdensity_none" = "$D\\cdot\\text{MIZ}_{\\text{none}}$",
"interaction_vaccination_0_to_4" = "$v_{\\text{prov}}\\cdot C_{0-4}$",
"interaction_vaccination_5_to_19" = "$v_{\\text{prov}}\\cdot C_{5-19}",
"interaction_vaccination_20_to_49" = "$v_{\\text{prov}}\\cdot C_{20-49}$",
"interaction_vaccination_50_to_64" = "$v_{\\text{prov}}\\cdot C_{50-64}$",
"interaction_vaccination_50_to_64" = "$v_{\\text{prov}}\\cdot C_{50-64}$",
"interaction_vaccination_65_plus" = "$v_{\\text{prov}}\\cdot C_{\\ge65}$",
"interaction_LTCHs_65_plus" = "\text{LTCH}\cdot C_{\ge65}"
)))
}
pretty_variable_names <- function(tab)
{
return(tab %>% dplyr::mutate(regressor = dplyr::recode(regressor,
"LTCHs" = "LTCH",
"E" = "School Closures",
"E" = "EI",
"group_0_to_4" = "$C_{0-4}$",
"group_5_to_19" = "$C_{5-19}$",
"group_20_to_49" = "$C_{20-49}$",
"group_50_to_64" = "$C_{50-64}$",
"group_65_plus" = "$C_{\\ge65}$",
"PHU_pop_density" = "$D$",
"interaction_children_school_closures" = "$E\\cdot C_{5-19}$",
"is_cma" = "CMA",
"is_ca" = "CA",
"is_miz_strong" = "MIZ\textsubscript{strong}",
"is_miz_moderate" = "MIZ\textsubscript{mod}$",
"is_miz_weak" = "MIZ\textsubscript{weak}",
"is_miz_none" = "MIZ\textsubscript{none}",
"previous_wave_incidence" = "$Y_{u-1}$",
"interaction_popdensity_cma" = "$D\\cdot\\text{CMA}$",
"interaction_popdensity_ca" = "$D\\cdot\\text{CA}$",
"interaction_popdensity_moderate" = "$D\\cdot\\text{MIZ}_{\\text{moderate}}$",
"interaction_popdensity_strong" = "$D\\cdot\\text{MIZ}_{\\text{strong}}$",
"interaction_popdensity_weak" = "$D\\cdot\\text{MIZ}_{\\text{weak}}$",
"interaction_popdensity_none" = "$D\\cdot\\text{MIZ}_{\\text{none}}$",
"interaction_vaccination_0_to_4" = "$v_{\\text{prov}}\\cdot C_{0-4}$",
"interaction_vaccination_5_to_19" = "$v_{\\text{prov}}\\cdot C_{5-19}",
"interaction_vaccination_20_to_49" = "$v_{\\text{prov}}\\cdot C_{20-49}$",
"interaction_vaccination_50_to_64" = "$v_{\\text{prov}}\\cdot C_{50-64}$",
"interaction_vaccination_50_to_64" = "$v_{\\text{prov}}\\cdot C_{50-64}$",
"interaction_vaccination_65_plus" = "$v_{\\text{prov}}\\cdot C_{\\ge65}$",
"interaction_LTCHs_65_plus" = "\text{LTCH}\cdot C_{\ge65}"
)))
}
source("~/GitHub/MIZ_project/ridge_regression.R")
pretty_variable_names <- function(tab)
{
return(tab %>% dplyr::mutate(regressor = dplyr::recode(regressor,
"LTCHs" = "LTCH",
"E" = "School Closures",
"E" = "EI",
"group_0_to_4" = "$C_{0-4}$",
"group_5_to_19" = "$C_{5-19}$",
"group_20_to_49" = "$C_{20-49}$",
"group_50_to_64" = "$C_{50-64}$",
"group_65_plus" = "$C_{\\ge65}$",
"PHU_pop_density" = "$D$",
"interaction_children_school_closures" = "$E\\cdot C_{5-19}$",
"is_cma" = "CMA",
"is_ca" = "CA",
"is_miz_strong" = "MIZ\textsubscript{strong}",
"is_miz_moderate" = "MIZ\textsubscript{mod}$",
"is_miz_weak" = "MIZ\textsubscript{weak}",
"is_miz_none" = "MIZ\textsubscript{none}",
"previous_wave_incidence" = "$Y_{u-1}$",
"interaction_popdensity_cma" = "$D\\cdot\\text{CMA}$",
"interaction_popdensity_ca" = "$D\\cdot\\text{CA}$",
"interaction_popdensity_moderate" = "$D\\cdot\\text{MIZ}_{\\text{moderate}}$",
"interaction_popdensity_strong" = "$D\\cdot\\text{MIZ}_{\\text{strong}}$",
"interaction_popdensity_weak" = "$D\\cdot\\text{MIZ}_{\\text{weak}}$",
"interaction_popdensity_none" = "$D\\cdot\\text{MIZ}_{\\text{none}}$",
"interaction_vaccination_0_to_4" = "$v_{\\text{prov}}\\cdot C_{0-4}$",
"interaction_vaccination_5_to_19" = "$v_{\\text{prov}}\\cdot C_{5-19}",
"interaction_vaccination_20_to_49" = "$v_{\\text{prov}}\\cdot C_{20-49}$",
"interaction_vaccination_50_to_64" = "$v_{\\text{prov}}\\cdot C_{50-64}$",
"interaction_vaccination_50_to_64" = "$v_{\\text{prov}}\\cdot C_{50-64}$",
"interaction_vaccination_65_plus" = "$v_{\\text{prov}}\\cdot C_{\\ge65}$",
"interaction_LTCHs_65_plus" = "\text{LTCH}\\cdot C_{\\ge65}"
)))
}
pretty_variable_names <- function(tab)
{
return(tab %>% dplyr::mutate(regressor = dplyr::recode(regressor,
"LTCHs" = "LTCH",
"E" = "School Closures",
"E" = "EI",
"group_0_to_4" = "$C_{0-4}$",
"group_5_to_19" = "$C_{5-19}$",
"group_20_to_49" = "$C_{20-49}$",
"group_50_to_64" = "$C_{50-64}$",
"group_65_plus" = "$C_{\\ge65}$",
"PHU_pop_density" = "$D$",
"interaction_children_school_closures" = "$E\\cdot C_{5-19}$",
"is_cma" = "CMA",
"is_ca" = "CA",
"is_miz_strong" = "MIZ\textsubscript{strong}",
"is_miz_moderate" = "MIZ\textsubscript{mod}$",
"is_miz_weak" = "MIZ\textsubscript{weak}",
"is_miz_none" = "MIZ\textsubscript{none}",
"previous_wave_incidence" = "$Y_{u-1}$",
"interaction_popdensity_cma" = "$D\\cdot\\text{CMA}$",
"interaction_popdensity_ca" = "$D\\cdot\\text{CA}$",
"interaction_popdensity_moderate" = "$D\\cdot\\text{MIZ}_{\\text{moderate}}$",
"interaction_popdensity_strong" = "$D\\cdot\\text{MIZ}_{\\text{strong}}$",
"interaction_popdensity_weak" = "$D\\cdot\\text{MIZ}_{\\text{weak}}$",
"interaction_popdensity_none" = "$D\\cdot\\text{MIZ}_{\\text{none}}$",
"interaction_vaccination_0_to_4" = "$v_{\\text{prov}}\\cdot C_{0-4}$",
"interaction_vaccination_5_to_19" = "$v_{\\text{prov}}\\cdot C_{5-19}",
"interaction_vaccination_20_to_49" = "$v_{\\text{prov}}\\cdot C_{20-49}$",
"interaction_vaccination_50_to_64" = "$v_{\\text{prov}}\\cdot C_{50-64}$",
"interaction_vaccination_50_to_64" = "$v_{\\text{prov}}\\cdot C_{50-64}$",
"interaction_vaccination_65_plus" = "$v_{\\text{prov}}\\cdot C_{\\ge65}$",
"interaction_LTCHs_65_plus" = "\\text{LTCH}\\cdot C_{\\ge65}"
)))
}
Regression_Data$VIF %>%
dplyr::mutate(value = sprintf("%.3f", value)) %>%
dplyr::relocate(wave, regressor, value) %>%
pretty_variable_names() %>%
fwrite(file.path(PROJECT_FOLDER, "Classifications/regression_vif_tables.csv"))
Regression_Data$VIF %>%
dplyr::mutate(value = sprintf("%.3f", value)) %>%
dplyr::relocate(wave, regressor, value) %>%
pretty_variable_names()
Regression_Data$VIF %>%
dplyr::mutate(value = sprintf("%.3f", value)) %>%
dplyr::relocate(wave, regressor, value) %>%
pretty_variable_names() %>% dplyr::filter(wave ==2)
Regression_Data$data
Regression_Data$data[wave==1, corr(incidence, LTCHs)]
names(Regression_Data$data[wave==1])
Regression_Data$data[wave==1, cor(incidence, LTCHs)]
Regression_Data$data[wave==2, cor(incidence, LTCHs)]
Regression_Data$data[wave==3, cor(incidence, LTCHs)]
Regression_Data$data[wave==4, cor(incidence, LTCHs)]
Regression_Data$data[wave==4, cor(group_65_plus, LTCHs)]
Regression_Data$data[wave==3, cor(group_65_plus, LTCHs)]
Regression_Data$data[wave==2, cor(group_65_plus, LTCHs)]
Regression_Data$data[wave==1, cor(group_65_plus, LTCHs)]
Regression_Data$Information
Regression_Data$information
Regression_Data$information %>% dplyr::filter(type %in% c("OLS", "Ridge.hdi"))
ggplot(
Regression_Data$information %>% dplyr::filter(type %in% c("OLS", "Ridge.hdi")),
aes(x=wave, y=coefficient, yminn=CI025, ymax=CI975)
) +
geom_point()
ggplot(
Regression_Data$information %>% dplyr::filter(type %in% c("OLS", "Ridge.hdi")),
aes(x=wave, y=coefficient, yminn=CI025, ymax=CI975)
) +
geom_point() +
facet_wrap(regressor)
Regression_Data$information %>% dplyr::filter(type %in% c("OLS", "Ridge.hdi"))
ggplot(
Regression_Data$information %>% dplyr::filter(type %in% c("OLS", "Ridge.hdi")),
aes(x=wave, y=coefficient, yminn=CI025, ymax=CI975)
) +
geom_point() +
facet_wrap(regressor~.)
ggplot(
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")),
aes(x=wave, y=coefficient, yminn=CI025, ymax=CI975, group=type)
) +
geom_point() +
facet_wrap(regressor~.)
ggplot(
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")),
aes(x=wave, y=coefficient, yminn=CI025, ymax=CI975, group=type, fill=type)
) +
geom_point() +
facet_wrap(regressor~.)
ggplot(
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")),
aes(x=wave, y=coefficient, yminn=CI025, ymax=CI975, group=type, fill=type, colour=type)
) +
geom_point() +
geom_errorbar(aes(ymin=CI025, ymax=CI975)) +
geom_hline(yintercept=0, linetype="dashed", colour="grey", size=1) +
facet_wrap(regressor~.)
ggplot(
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")) %>%
pretty_var_names(),
aes(x=wave, y=coefficient, yminn=CI025, ymax=CI975, group=type, fill=type, colour=type)
) +
geom_point() +
geom_errorbar(aes(ymin=CI025, ymax=CI975)) +
geom_hline(yintercept=0, linetype="dashed", colour="grey", size=1) +
facet_wrap(regressor~.)
pretty_variable_names <- function(tab)
{
return(tab %>% dplyr::mutate(regressor = dplyr::recode(regressor,
"LTCHs" = "LTCH",
"E" = "School Closures",
"E" = "EI",
"group_0_to_4" = "$C_{0-4}$",
"group_5_to_19" = "$C_{5-19}$",
"group_20_to_49" = "$C_{20-49}$",
"group_50_to_64" = "$C_{50-64}$",
"group_65_plus" = "$C_{\\ge65}$",
"PHU_pop_density" = "$D$",
"interaction_children_school_closures" = "$E\\cdot C_{5-19}$",
"is_cma" = "CMA",
"is_ca" = "CA",
"is_miz_strong" = "MIZ\textsubscript{strong}",
"is_miz_moderate" = "MIZ\textsubscript{mod}$",
"is_miz_weak" = "MIZ\textsubscript{weak}",
"is_miz_none" = "MIZ\textsubscript{none}",
"previous_wave_incidence" = "$Y_{u-1}$",
"interaction_popdensity_cma" = "$D\\cdot\\text{CMA}$",
"interaction_popdensity_ca" = "$D\\cdot\\text{CA}$",
"interaction_popdensity_moderate" = "$D\\cdot\\text{MIZ}_{\\text{moderate}}$",
"interaction_popdensity_strong" = "$D\\cdot\\text{MIZ}_{\\text{strong}}$",
"interaction_popdensity_weak" = "$D\\cdot\\text{MIZ}_{\\text{weak}}$",
"interaction_popdensity_none" = "$D\\cdot\\text{MIZ}_{\\text{none}}$",
"interaction_vaccination_0_to_4" = "$v_{\\text{prov}}\\cdot C_{0-4}$",
"interaction_vaccination_5_to_19" = "$v_{\\text{prov}}\\cdot C_{5-19}",
"interaction_vaccination_20_to_49" = "$v_{\\text{prov}}\\cdot C_{20-49}$",
"interaction_vaccination_50_to_64" = "$v_{\\text{prov}}\\cdot C_{50-64}$",
"interaction_vaccination_50_to_64" = "$v_{\\text{prov}}\\cdot C_{50-64}$",
"interaction_vaccination_65_plus" = "$v_{\\text{prov}}\\cdot C_{\\ge65}$",
"interaction_LTCHs_65_plus" = "\\text{LTCH}\\cdot C_{\\ge65}"
)))
}
ggplot(
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")) %>%
dplyr::filter(!grepl("intercept", regressor))
pretty_var_names(),
aes(x=wave, y=coefficient, yminn=CI025, ymax=CI975, group=type, fill=type, colour=type)
) +
geom_point() +
geom_errorbar(aes(ymin=CI025, ymax=CI975)) +
geom_hline(yintercept=0, linetype="dashed", colour="grey", size=1) +
facet_wrap(regressor~.)
ggplot(
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")) %>%
dplyr::filter(!grepl("intercept", regressor)) %>%
pretty_var_names(),
aes(x=wave, y=coefficient, yminn=CI025, ymax=CI975, group=type, fill=type, colour=type)
) +
geom_point() +
geom_errorbar(aes(ymin=CI025, ymax=CI975)) +
geom_hline(yintercept=0, linetype="dashed", colour="grey", size=1) +
facet_wrap(regressor~.)
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")) %>%
dplyr::filter(!grepl("intercept", regressor)) %>%
pretty_var_names()
pretty_var_names()
pretty_var_names
pretty_var_names %>% rm
ggplot(
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")) %>%
dplyr::filter(!grepl("intercept", regressor)) %>%
pretty_variable_names(),
aes(x=wave, y=coefficient, yminn=CI025, ymax=CI975, group=type, fill=type, colour=type)
) +
geom_point() +
geom_errorbar(aes(ymin=CI025, ymax=CI975)) +
geom_hline(yintercept=0, linetype="dashed", colour="grey", size=1) +
facet_wrap(regressor~.)
ggplot(
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")) %>%
dplyr::filter(!grepl("intercept", regressor)) %>%
pretty_variable_names(),
aes(x=wave, y=coefficient, yminn=CI025, ymax=CI975, group=type, fill=type, colour=type)
) +
geom_point() +
geom_errorbar(aes(ymin=CI025, ymax=CI975)) +
geom_hline(yintercept=0, linetype="dashed", colour="grey", size=1) +
facet_wrap(regressor~., scale="free") +
theme_bw() +
theme(
)
ggplot(
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")) %>%
dplyr::filter(!grepl("intercept", regressor)) %>%
pretty_variable_names(),
aes(x=wave, y=coefficient, yminn=CI025, ymax=CI975, group=type, fill=type, colour=type)
) +
geom_point() +
geom_errorbar(aes(ymin=CI025, ymax=CI975)) +
geom_hline(yintercept=0, linetype="dashed", colour="grey", size=1) +
facet_wrap(regressor~., scale="free", nrow=3) +
theme_bw() +
theme(
) +
labs(x="Epidemiological Wave", y="Regression Coefficient")
ggplot(
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")) %>%
dplyr::filter(!grepl("intercept", regressor)) %>%
pretty_variable_names(),
aes(x=wave, y=coefficient, yminn=CI025, ymax=CI975, group=type, fill=type, colour=type)
) +
geom_point() +
geom_errorbar(aes(ymin=CI025, ymax=CI975)) +
geom_hline(yintercept=0, linetype="dashed", colour="grey", size=1) +
facet_wrap(regressor~., scale="free", ncol=3) +
theme_bw() +
theme(
) +
labs(x="Epidemiological Wave", y="Regression Coefficient")
ggplot(
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")) %>%
dplyr::filter(!grepl("intercept", regressor)) %>%
pretty_variable_names(),
aes(x=wave, y=coefficient, yminn=CI025, ymax=CI975, group=type, fill=type, colour=type)
) +
geom_point() +
geom_errorbar(aes(ymin=CI025, ymax=CI975)) +
geom_hline(yintercept=0, linetype="dashed", colour="grey", size=1) +
facet_wrap(regressor~., scale="free", ncol=4) +
theme_bw() +
theme(
) +
labs(x="Epidemiological Wave", y="Regression Coefficient")
ggplot(
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")) %>%
dplyr::filter(!grepl("intercept", regressor)) %>%
pretty_variable_names() %>%
dplyr::rename(Regression = type),
aes(x=wave, y=coefficient, yminn=CI025, ymax=CI975, group=type, fill=type, colour=type)
) +
geom_point() +
geom_errorbar(aes(ymin=CI025, ymax=CI975)) +
geom_hline(yintercept=0, linetype="dashed", colour="grey", size=1) +
facet_wrap(regressor~., scale="free", ncol=4) +
theme_bw() +
theme(
) +
labs(x="Epidemiological Wave", y="Regression Coefficient")
ggplot(
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")) %>%
dplyr::filter(!grepl("intercept", regressor)) %>%
pretty_variable_names() %>%
dplyr::rename(type = Regression),
aes(x=wave, y=coefficient, yminn=CI025, ymax=CI975, group=type, fill=type, colour=type)
) +
geom_point() +
geom_errorbar(aes(ymin=CI025, ymax=CI975)) +
geom_hline(yintercept=0, linetype="dashed", colour="grey", size=1) +
facet_wrap(regressor~., scale="free", ncol=4) +
theme_bw() +
theme(
) +
labs(x="Epidemiological Wave", y="Regression Coefficient")
ggplot(
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")) %>%
dplyr::filter(!grepl("intercept", regressor)) %>%
pretty_variable_names() %>%
dplyr::rename(Regression = type),
aes(x=wave, y=coefficient, yminn=CI025, ymax=CI975, group=type, fill=type, colour=type)
) +
geom_point() +
geom_errorbar(aes(ymin=CI025, ymax=CI975)) +
geom_hline(yintercept=0, linetype="dashed", colour="grey", size=1) +
facet_wrap(regressor~., scale="free", ncol=4) +
theme_bw() +
theme(
) +
labs(x="Epidemiological Wave", y="Regression Coefficient")
ggplot(
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")) %>%
dplyr::filter(!grepl("intercept", regressor)) %>%
pretty_variable_names() %>%
dplyr::rename("Regression" = "type"),
aes(x=wave, y=coefficient, yminn=CI025, ymax=CI975, group=type, fill=type, colour=type)
) +
geom_point() +
geom_errorbar(aes(ymin=CI025, ymax=CI975)) +
geom_hline(yintercept=0, linetype="dashed", colour="grey", size=1) +
facet_wrap(regressor~., scale="free", ncol=4) +
theme_bw() +
theme(
) +
labs(x="Epidemiological Wave", y="Regression Coefficient")
?dplyr::rename
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")) %>%
dplyr::filter(!grepl("intercept", regressor)) %>%
pretty_variable_names() %>%
dplyr::rename("Regression" = "type")
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")) %>%
dplyr::filter(!grepl("intercept", regressor)) %>%
pretty_variable_names() %>%
dplyr::rename("Regression" = "type")
ggplot(
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")) %>%
dplyr::filter(!grepl("intercept", regressor)) %>%
pretty_variable_names() %>%
dplyr::rename("Regression" = "type"),
aes(x=wave, y=coefficient, ymin=CI025, ymax=CI975,
group=Regression, fill=Regression, colour=Regression)
) +
geom_point() +
geom_errorbar(aes(ymin=CI025, ymax=CI975)) +
geom_hline(yintercept=0, linetype="dashed", colour="grey", size=1) +
facet_wrap(regressor~., scale="free", ncol=4) +
theme_bw() +
theme(
) +
labs(x="Epidemiological Wave", y="Regression Coefficient")
ggplot(
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")) %>%
dplyr::filter(!grepl("intercept", regressor)) %>%
pretty_variable_names() %>%
dplyr::rename("Regression" = "type") %>%
dplyr::mutate(Regression = dplyr::recode(Regression, "Ridge.hdi" = "Ridge")),
aes(x=wave, y=coefficient, ymin=CI025, ymax=CI975,
group=Regression, fill=Regression, colour=Regression)
) +
geom_point() +
geom_errorbar(aes(ymin=CI025, ymax=CI975)) +
geom_hline(yintercept=0, linetype="dashed", colour="grey", size=1) +
facet_wrap(regressor~., scale="free", ncol=4) +
theme_bw() +
theme(
) +
labs(x="Epidemiological Wave", y="Regression Coefficient")
pl_regression_by_wave <-  ggplot(
Regression_Data$information %>%
dplyr::filter(type %in% c("OLS", "Ridge.hdi")) %>%
dplyr::filter(!grepl("intercept", regressor)) %>%
pretty_variable_names() %>%
dplyr::rename("Regression" = "type") %>%
dplyr::mutate(Regression = dplyr::recode(Regression, "Ridge.hdi" = "Ridge")),
aes(x=wave, y=coefficient, ymin=CI025, ymax=CI975,
group=Regression, fill=Regression, colour=Regression)
) +
geom_point() +
geom_errorbar(aes(ymin=CI025, ymax=CI975)) +
geom_hline(yintercept=0, linetype="dashed", colour="grey", size=1) +
facet_wrap(regressor~., scale="free", ncol=4) +
theme_bw() +
theme(
) +
labs(x="Epidemiological Wave", y="Regression Coefficient")
ggsave(
pl_regression_by_wave,
file = file.path(PROJECT_FOLDER, "Classifications/regression_by_wave.png"),
height=15, width=10
)
ggsave(
pl_regression_by_wave,
file = file.path(PROJECT_FOLDER, "Graphs/regression_by_wave.png"),
height=15, width=10
)
